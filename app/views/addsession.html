<h1>Skrá mætingu</h1>

<form ng-submit="registerSession()">
	<div class="row">
		<div class="form-group col-sm-3">
			<label>Dagsetning:</label>
			<div class="input-group">

				<input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" ng-required="true" close-text="Close" required/>
				<span class="input-group-btn">
					<button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</div>
		</div>
		<div class="form-group col-sm-3">
			<label>Tegund:</label>
			<select class="form-control" ng-model="session.session_type" ng-options="type for type in types" required></select>
		</div>
		<div class="form-group col-sm-6">
			<label>Lýsing:</label>
			<textarea ng-model="session.description" class="form-control"></textarea>
		</div>
	</div>
	<div class="row">		
		<div class="col-xs-6">			
			<input class="form-control" type="text" ng-model="search.name" placeholder="Leita eftir nafni"/>
		</div>
		<div class="col-xs-6">			
			<select class="form-control" ng-options="status.value as status.name for status in statuses"  ng-model="traineeType" placeholder=" Leita eftir stöðu" ng-init="search.status = ''"></select>
		</div>
	</div>
	<div class="row">
		<div class="form-group col-sm-12">
			<table  class="table table-condensed">
	  			<thead>
	  				<tr>
	  					<th>Nafn: </th>	  					
	  					<th>Mæting</th>  					
					</tr>
					
				</thead>
				<tbody>
					<tr ng-repeat="fighter in fighters | filter: traineeFilter(traineeType) | filter: search  |  orderBy: '+name' ">
						<td>{{fighter.name}}</td>						
						<td class="fit">
							<div class="btn-group btn-group-changed">

					        <label class="btn btn-default inline" ng-model="fighter.attendance" btn-radio="'half'" uncheckable>&#189;</label>
					        <label class="btn btn-default inline" ng-model="fighter.attendance" btn-radio="'full'" uncheckable>1</label>
					    </div>
						</td>					
					</tr>
				</tbody>
			</table>
		</div>
		<div class="col-sm-12">
			<button class="btn btn-lg btn-primary btn-block" type="submit">Skrá <span ng-show="load" class="glyphicon glyphicon-refresh glyphicon-spin"></button>    
			<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>    	
		</div>
	</div>
</form>
